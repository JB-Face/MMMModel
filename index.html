<!--
 * @Descripttion: 
 * @version: 
 * @Author: JBFace
 * @Date: 2025-01-29 22:25:13
 * @LastEditors: JBFace
 * @LastEditTime: 2025-01-29 23:07:09
-->
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>猫咪培育模拟器</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>猫咪培育模拟器</h1>
        
        <div class="main-content">
            <div class="control-panel">
                <h2>控制面板</h2>
                
                <div class="panel-section">
                    <div class="panel-header" onclick="togglePanel('attributePanel')">
                        <h3>属性设置</h3>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div id="attributePanel" class="panel-content">
                        <div class="attribute-controls">
                            <div class="panel-section">
                                <div class="panel-header" onclick="togglePanel('attributeListPanel')">
                                    <h3>属性列表</h3>
                                    <span class="toggle-icon">▼</span>
                                </div>
                                <div id="attributeListPanel" class="panel-content">
                                    <div id="attributeList"></div>
                                    <div class="attribute-actions">
                                        <button id="addNewAttribute" class="secondary-button">添加新属性</button>
                                        <button id="exportAttributes" class="secondary-button">导出属性设置</button>
                                        <button id="importAttributes" class="secondary-button">导入属性设置</button>
                                    </div>
                                </div>
                            </div>

                            <div class="panel-section">
                                <div class="panel-header" onclick="togglePanel('weightControlsPanel')">
                                    <h3>权重设置</h3>
                                    <span class="toggle-icon">▼</span>
                                </div>
                                <div id="weightControlsPanel" class="panel-content">
                                    <div id="weightControls"></div>
                                </div>
                            </div>

                            <div class="panel-section">
                                <div class="panel-header" onclick="togglePanel('rarityControlsPanel')">
                                    <h3>稀有度设置</h3>
                                    <span class="toggle-icon">▼</span>
                                </div>
                                <div id="rarityControlsPanel" class="panel-content">
                                    <div id="rarityControls"></div>
                                </div>
                            </div>

                            <div class="panel-section">
                                <div class="panel-header" onclick="togglePanel('geneStrengthControlsPanel')">
                                    <h3>基因强度设置</h3>
                                    <span class="toggle-icon">▼</span>
                                </div>
                                <div id="geneStrengthControlsPanel" class="panel-content">
                                    <div id="geneStrengthControls"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <div class="panel-header" onclick="togglePanel('breedingPanel')">
                        <h3>培育设置</h3>
                        <span class="toggle-icon">▼</span>
                    </div>
                    <div id="breedingPanel" class="panel-content">
                        <div class="breeding-controls">
                            <div class="parameter-group">
                                <label for="mutationRate">变异概率 (%)</label>
                                <input type="number" id="mutationRate" min="0" max="100" value="10" step="1">
                                <div class="parameter-tip">设置基因突变的概率，范围0-100%</div>
                            </div>
                            
                            <div class="parameter-group">
                                <label for="initialRarity">初始猫咪目标稀有度</label>
                                <input type="number" id="initialRarity" min="1" placeholder="可选">
                                <div class="parameter-tip">设置初始猫咪的目标稀有度总和，留空则随机生成</div>
                            </div>
                            
                            <div class="parameter-group">
                                <label for="generationCount">繁殖代数</label>
                                <input type="number" id="generationCount" value="1" min="1" required>
                                <div class="parameter-tip">设置要模拟的繁殖代数，至少1代</div>
                            </div>

                            <div class="parameter-group">
                                <label for="rarityThreshold">稀有度统计阈值</label>
                                <input type="number" id="rarityThreshold" min="1" value="10">
                                <div class="parameter-tip">统计超过此稀有度的猫咪数量</div>
                            </div>

                            <div class="parameter-group">
                                <label for="breedingStrategy">培育策略</label>
                                <select id="breedingStrategy">
                                    <option value="random">随机配对</option>
                                    <option value="highestRarity">优先高稀有度配对</option>
                                </select>
                                <div class="parameter-tip">选择猫咪配对的策略</div>
                            </div>

                            <div class="parameter-group">
                                <label for="breedingMode">培育模式</label>
                                <select id="breedingMode" onchange="toggleBreedingMode()">
                                    <option value="auto">自动培育</option>
                                    <option value="manual">手动培育</option>
                                </select>
                                <div class="parameter-tip">选择自动或手动培育模式</div>
                            </div>

                            <div class="parameter-group">
                                <label for="maxCats">最大猫咪数量</label>
                                <input type="number" id="maxCats" min="2" value="10">
                                <div class="parameter-tip">设置手动培育时最大可持有的猫咪数量（至少2只）</div>
                            </div>
                            
                            <div id="autoBreedingControls">
                                <button id="startBreeding">开始培育</button>
                                <button id="randomCat">随机生成猫咪</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="display-area">
                <div class="cat-display">
                    <h2>当前猫咪</h2>
                    <div id="currentCats"></div>
                </div>
                
                <div class="results">
                    <h2>模拟结果</h2>
                    <div class="results-controls">
                        <button id="exportResults" class="secondary-button">导出结果</button>
                        <button id="clearResults" class="secondary-button">清空结果</button>
                    </div>
                    <div id="breedingResults"></div>
                </div>

                <div id="manualBreedingControls" style="display: none;" class="manual-breeding-section">
                    <h2>手动培育</h2>
                    <div class="breeding-pool">
                        <h4>培育池</h4>
                        <div id="breedingPool"></div>
                        <button id="addCat">添加新猫咪</button>
                    </div>
                    
                    <div class="breeding-pair">
                        <h4>配对选择</h4>
                        <div class="pair-selection">
                            <select id="parent1"></select>
                            <span>×</span>
                            <select id="parent2"></select>
                        </div>
                        <button onclick="breedPair()" id="breedPair">配对</button>
                    </div>
                    
                    <div class="generation-control">
                        <button id="nextGeneration">进入下一代</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 
